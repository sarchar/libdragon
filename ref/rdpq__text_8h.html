<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: rdpq_text.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rdpq_text.h File Reference<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__display.html">Display Subsystem</a> &raquo; <a class="el" href="group__rdpq.html">RDPQ: Hardware-accelerated drawing API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Text layout engine.  
<a href="#details">More...</a></p>

<p><a href="rdpq__text_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrdpq__textparms__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a></td></tr>
<tr class="memdesc:structrdpq__textparms__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print formatting parameters.  <a href="rdpq__text_8h.html#structrdpq__textparms__t">More...</a><br /></td></tr>
<tr class="separator:structrdpq__textparms__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a542bfca9ffeb221d87298435f2ab8fe3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3">rdpq_textwrap_t</a> { <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3aca1a448e74f2566b9cf72dcbd454d537">WRAP_NONE</a> = 0
, <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a2bb7983d32861033d3481c17e31394a2">WRAP_ELLIPSES</a> = 1
, <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a4ab7afd4fa5335435a7f8be5e386a673">WRAP_CHAR</a> = 2
, <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24">WRAP_WORD</a> = 3
 }</td></tr>
<tr class="memdesc:a542bfca9ffeb221d87298435f2ab8fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print formatting parameters: wrapping modes.  <a href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3">More...</a><br /></td></tr>
<tr class="separator:a542bfca9ffeb221d87298435f2ab8fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138008d34475ee54f677961c5e518ba4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4">rdpq_align_t</a> { <a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4a6ec599857e15466988726932dd592305">ALIGN_LEFT</a> = 0
, <a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4a5624165187e56db612253e608a45b1c6">ALIGN_CENTER</a> = 1
, <a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4a9c81840e8cad46418b39a8b74a246354">ALIGN_RIGHT</a> = 2
 }</td></tr>
<tr class="memdesc:a138008d34475ee54f677961c5e518ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print formatting parameters: horizontal alignment.  <a href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4">More...</a><br /></td></tr>
<tr class="separator:a138008d34475ee54f677961c5e518ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ad573baebe22b65f840824f6db823d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823d">rdpq_valign_t</a> { <a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823da667caf0089bc36abdd821dfd4e55038c">VALIGN_TOP</a> = 0
, <a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823dab146580c17eb513da1e4b604c5866098">VALIGN_CENTER</a> = 1
, <a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823da7178e59d239d98435f6f473dced2c2d1">VALIGN_BOTTOM</a> = 2
 }</td></tr>
<tr class="memdesc:a32ad573baebe22b65f840824f6db823d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print formatting parameters: horizontal alignment.  <a href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823d">More...</a><br /></td></tr>
<tr class="separator:a32ad573baebe22b65f840824f6db823d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a535a21a578c8ff0cf69fd08adcd9d523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#a535a21a578c8ff0cf69fd08adcd9d523">rdpq_text_register_font</a> (uint8_t font_id, const <a class="el" href="structrdpq__font__t.html">rdpq_font_t</a> *font)</td></tr>
<tr class="memdesc:a535a21a578c8ff0cf69fd08adcd9d523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new font into the text engine.  <a href="rdpq__text_8h.html#a535a21a578c8ff0cf69fd08adcd9d523">More...</a><br /></td></tr>
<tr class="separator:a535a21a578c8ff0cf69fd08adcd9d523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51544c04524a6e279821bd937ef47184"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrdpq__font__t.html">rdpq_font_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#a51544c04524a6e279821bd937ef47184">rdpq_text_get_font</a> (uint8_t font_id)</td></tr>
<tr class="memdesc:a51544c04524a6e279821bd937ef47184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a registered font by its ID.  <a href="rdpq__text_8h.html#a51544c04524a6e279821bd937ef47184">More...</a><br /></td></tr>
<tr class="separator:a51544c04524a6e279821bd937ef47184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f70f0e8d1c5c509837ea9e6c99c98c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#ab6f70f0e8d1c5c509837ea9e6c99c98c">rdpq_text_printn</a> (const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *parms, uint8_t font_id, float x0, float y0, const char *utf8_text, int nbytes)</td></tr>
<tr class="memdesc:ab6f70f0e8d1c5c509837ea9e6c99c98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Layout and render a text in a single call.  <a href="rdpq__text_8h.html#ab6f70f0e8d1c5c509837ea9e6c99c98c">More...</a><br /></td></tr>
<tr class="separator:ab6f70f0e8d1c5c509837ea9e6c99c98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce50057cdd37500487afc553ebbd6d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#acce50057cdd37500487afc553ebbd6d5">rdpq_text_printf</a> (const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *parms, uint8_t font_id, float x0, float y0, const char *utf8_fmt,...)</td></tr>
<tr class="memdesc:acce50057cdd37500487afc553ebbd6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Layout and render a formatted text in a single call.  <a href="rdpq__text_8h.html#acce50057cdd37500487afc553ebbd6d5">More...</a><br /></td></tr>
<tr class="separator:acce50057cdd37500487afc553ebbd6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad990a5d0df1439e120e933e64ece7eb1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">rdpq_text_print</a> (const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *parms, uint8_t font_id, float x0, float y0, const char *utf8_text)</td></tr>
<tr class="memdesc:ad990a5d0df1439e120e933e64ece7eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Layout and render a text in a single call.  <a href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">More...</a><br /></td></tr>
<tr class="separator:ad990a5d0df1439e120e933e64ece7eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Text layout engine. </p>
<p >This module contains the higher-level text printing engine. It allows to print text using multiple fonts, with different styles, and different layout rules.</p>
<p >There are three different modules that work together:</p>
<ul>
<li><a class="el" href="rdpq__font_8h.html" title="Text layout engine: font loading and rendering.">rdpq_font.h</a>: Loading and rendering fonts in the "font64" format, generated by mkfont. Currently, mkfont supports conversion from TTF/OTF, so no bitmap fonts are supported.</li>
<li><a class="el" href="rdpq__text_8h.html" title="Text layout engine.">rdpq_text.h</a>: Higher-level printing functions and font registry.</li>
<li><a class="el" href="rdpq__paragraph_8h.html" title="Text paragraph layout engine.">rdpq_paragraph.h</a>: Lower-level text layout engine (implementing word-wrapping, alignment rules, spacing, etc.)</li>
</ul>
<p >The most basic example requires to load and register one font, and them draw using it:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="libdragon_8h.html">libdragon.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    FONT_ARIAL = 1</div>
<div class="line">} FONTS;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code hl_function" href="group__dfs.html#ga7ca0762367965bd8a6dbbe07b7ad3022">dfs_init</a>(<a class="code hl_define" href="group__dfs.html#ga1d81e04e879a844f4d733a3982bf85ee">DFS_DEFAULT_LOCATION</a>);</div>
<div class="line">    <a class="code hl_function" href="group__display.html#ga1763c553f071d40c4bd18cee77ae98a1">display_init</a>(<a class="code hl_variable" href="group__display.html#gaa5d59348bf36dd5362d2842523260cd5">RESOLUTION_320x240</a>, <a class="code hl_enumvalue" href="group__display.html#ggae2079fcb0e8b0f846f002f25d0c73ffbabf331dc6d78bf9d2fb2b893a365f01d5">DEPTH_16_BPP</a>, 2, <a class="code hl_enumvalue" href="group__display.html#gga35f19c13bdc2076bd91416021036e439a93441449f3f926aa87eeddef2faec6a2">GAMMA_NONE</a>, ANTIALIAS_RESAMPLE);</div>
<div class="line">    <a class="code hl_function" href="rdpq_8c.html#a7d884af64503534642d525082ec827cd">rdpq_init</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Load the font and register it into the text layout engine with ID 1.</span></div>
<div class="line">    <a class="code hl_function" href="rdpq__text_8h.html#a535a21a578c8ff0cf69fd08adcd9d523">rdpq_text_register_font</a>(FONT_ARIAL, <a class="code hl_function" href="rdpq__font_8h.html#a879175a7fa7608909d286aa41bacfc98">rdpq_font_load</a>(<span class="stringliteral">&quot;rom:/Arial.font64&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <a class="code hl_struct" href="surface_8h.html#structsurface__t">surface_t</a> *fb = <a class="code hl_function" href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd">display_get</a>();</div>
<div class="line">        <a class="code hl_function" href="rdpq__attach_8c.html#acd5b2e8619d8484b732a390316e5892e">rdpq_attach_clear</a>();</div>
<div class="line">        <a class="code hl_function" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">rdpq_text_print</a>(NULL, FONT_ARIAL, 20, 20, <span class="stringliteral">&quot;Hello, world&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="rdpq__attach_8c.html#a88ddcc861cd4cd2027f3501a04b418d7">rdpq_detach_show</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__dfs_html_ga1d81e04e879a844f4d733a3982bf85ee"><div class="ttname"><a href="group__dfs.html#ga1d81e04e879a844f4d733a3982bf85ee">DFS_DEFAULT_LOCATION</a></div><div class="ttdeci">#define DFS_DEFAULT_LOCATION</div><div class="ttdoc">Default filesystem location.</div><div class="ttdef"><b>Definition:</b> dragonfs.h:20</div></div>
<div class="ttc" id="agroup__dfs_html_ga7ca0762367965bd8a6dbbe07b7ad3022"><div class="ttname"><a href="group__dfs.html#ga7ca0762367965bd8a6dbbe07b7ad3022">dfs_init</a></div><div class="ttdeci">int dfs_init(uint32_t base_fs_loc)</div><div class="ttdoc">Initialize the filesystem.</div><div class="ttdef"><b>Definition:</b> dragonfs.c:1308</div></div>
<div class="ttc" id="agroup__display_html_ga1763c553f071d40c4bd18cee77ae98a1"><div class="ttname"><a href="group__display.html#ga1763c553f071d40c4bd18cee77ae98a1">display_init</a></div><div class="ttdeci">void display_init(resolution_t res, bitdepth_t bit, uint32_t num_buffers, gamma_t gamma, filter_options_t filters)</div><div class="ttdoc">Initialize the display to a particular resolution and bit depth.</div><div class="ttdef"><b>Definition:</b> display.c:105</div></div>
<div class="ttc" id="agroup__display_html_gaa5d59348bf36dd5362d2842523260cd5"><div class="ttname"><a href="group__display.html#gaa5d59348bf36dd5362d2842523260cd5">RESOLUTION_320x240</a></div><div class="ttdeci">const resolution_t RESOLUTION_320x240</div><div class="ttdoc">320x240 mode</div><div class="ttdef"><b>Definition:</b> display.h:78</div></div>
<div class="ttc" id="agroup__display_html_gaf8ad0501f0408430e3b40f0f626a33bd"><div class="ttname"><a href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd">display_get</a></div><div class="ttdeci">surface_t * display_get(void)</div><div class="ttdoc">Get a display buffer for rendering.</div><div class="ttdef"><b>Definition:</b> display.c:338</div></div>
<div class="ttc" id="agroup__display_html_gga35f19c13bdc2076bd91416021036e439a93441449f3f926aa87eeddef2faec6a2"><div class="ttname"><a href="group__display.html#gga35f19c13bdc2076bd91416021036e439a93441449f3f926aa87eeddef2faec6a2">GAMMA_NONE</a></div><div class="ttdeci">@ GAMMA_NONE</div><div class="ttdoc">Uncorrected gamma, should be used by default and with assets built by libdragon tools.</div><div class="ttdef"><b>Definition:</b> display.h:102</div></div>
<div class="ttc" id="agroup__display_html_ggae2079fcb0e8b0f846f002f25d0c73ffbabf331dc6d78bf9d2fb2b893a365f01d5"><div class="ttname"><a href="group__display.html#ggae2079fcb0e8b0f846f002f25d0c73ffbabf331dc6d78bf9d2fb2b893a365f01d5">DEPTH_16_BPP</a></div><div class="ttdeci">@ DEPTH_16_BPP</div><div class="ttdoc">16 bits per pixel (5-5-5-1)</div><div class="ttdef"><b>Definition:</b> display.h:93</div></div>
<div class="ttc" id="alibdragon_8h_html"><div class="ttname"><a href="libdragon_8h.html">libdragon.h</a></div><div class="ttdoc">Main include file for programs seeking to link against libdragon.</div></div>
<div class="ttc" id="ardpq_8c_html_a7d884af64503534642d525082ec827cd"><div class="ttname"><a href="rdpq_8c.html#a7d884af64503534642d525082ec827cd">rdpq_init</a></div><div class="ttdeci">void rdpq_init()</div><div class="ttdoc">Initialize the RDPQ library.</div><div class="ttdef"><b>Definition:</b> rdpq.c:451</div></div>
<div class="ttc" id="ardpq__attach_8c_html_a88ddcc861cd4cd2027f3501a04b418d7"><div class="ttname"><a href="rdpq__attach_8c.html#a88ddcc861cd4cd2027f3501a04b418d7">rdpq_detach_show</a></div><div class="ttdeci">void rdpq_detach_show(void)</div><div class="ttdoc">Detach the RDP from the current framebuffer, and show it on screen.</div><div class="ttdef"><b>Definition:</b> rdpq_attach.c:131</div></div>
<div class="ttc" id="ardpq__attach_8c_html_acd5b2e8619d8484b732a390316e5892e"><div class="ttname"><a href="rdpq__attach_8c.html#acd5b2e8619d8484b732a390316e5892e">rdpq_attach_clear</a></div><div class="ttdeci">void rdpq_attach_clear(const surface_t *surf_color, const surface_t *surf_z)</div><div class="ttdoc">Attach the RDP to a surface and clear it.</div><div class="ttdef"><b>Definition:</b> rdpq_attach.c:82</div></div>
<div class="ttc" id="ardpq__font_8h_html_a879175a7fa7608909d286aa41bacfc98"><div class="ttname"><a href="rdpq__font_8h.html#a879175a7fa7608909d286aa41bacfc98">rdpq_font_load</a></div><div class="ttdeci">rdpq_font_t * rdpq_font_load(const char *fn)</div><div class="ttdoc">Load a font from a file (.font64 format).</div><div class="ttdef"><b>Definition:</b> rdpq_font.c:76</div></div>
<div class="ttc" id="ardpq__text_8h_html_a535a21a578c8ff0cf69fd08adcd9d523"><div class="ttname"><a href="rdpq__text_8h.html#a535a21a578c8ff0cf69fd08adcd9d523">rdpq_text_register_font</a></div><div class="ttdeci">void rdpq_text_register_font(uint8_t font_id, const rdpq_font_t *font)</div><div class="ttdoc">Register a new font into the text engine.</div><div class="ttdef"><b>Definition:</b> rdpq_text.c:13</div></div>
<div class="ttc" id="ardpq__text_8h_html_ad990a5d0df1439e120e933e64ece7eb1"><div class="ttname"><a href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">rdpq_text_print</a></div><div class="ttdeci">int rdpq_text_print(const rdpq_textparms_t *parms, uint8_t font_id, float x0, float y0, const char *utf8_text)</div><div class="ttdoc">Layout and render a text in a single call.</div><div class="ttdef"><b>Definition:</b> rdpq_text.h:340</div></div>
<div class="ttc" id="asurface_8h_html_structsurface__t"><div class="ttname"><a href="surface_8h.html#structsurface__t">surface_t</a></div><div class="ttdoc">A surface buffer for graphics.</div><div class="ttdef"><b>Definition:</b> surface.h:138</div></div>
</div><!-- fragment --><p>{.c}</p>
<p >In this case, no styling or formatting rules are provided, so the text is drawn using the default style of the font (which is full white). The text is drawn starting at position (20, 20) in the screen.</p>
<p >The whole text engine has been designed around the UTF-8 encoding format, and only supports that encoding. If you have text in a different encoding make sure to convert it to UTF-8 before feeding it to <a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1" title="Layout and render a text in a single call.">rdpq_text_print</a> functions.</p>
<p >There are three main functions to print text:</p>
<ul>
<li><a class="el" href="rdpq__text_8h.html#ab6f70f0e8d1c5c509837ea9e6c99c98c" title="Layout and render a text in a single call.">rdpq_text_printn</a>: print a text, specifying the number of bytes the text is made of.</li>
<li><a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1" title="Layout and render a text in a single call.">rdpq_text_print</a>: print a text which is provided as a 0-terminated string.</li>
<li><a class="el" href="rdpq__text_8h.html#acce50057cdd37500487afc553ebbd6d5" title="Layout and render a formatted text in a single call.">rdpq_text_printf</a>: print a text using a printf-like format string.</li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
Wrapping lines</h2>
<p >To draw longer texts that don't fit in a single line, you can use the advanced layout rules provided by <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t" title="Print formatting parameters.">rdpq_textparms_t</a>. For instance, this will draw a text with a maximum width of 200 pixels, and will perform word-wrapping:</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> *text = <span class="stringliteral">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">rdpq_text_print</a>(&amp;(<a class="code hl_struct" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a>) {</div>
<div class="line">    .width = 200,       <span class="comment">// maximum width of the paragraph</span></div>
<div class="line">    .wrap = <a class="code hl_enumvalue" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24">WRAP_WORD</a>   <span class="comment">// wrap at word boundaries</span></div>
<div class="line">}, FONT_ARIAL, 20, 20, text);</div>
<div class="ttc" id="ardpq__text_8h_html_a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24"><div class="ttname"><a href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24">WRAP_WORD</a></div><div class="ttdeci">@ WRAP_WORD</div><div class="ttdoc">Wrap at word boundaries.</div><div class="ttdef"><b>Definition:</b> rdpq_text.h:196</div></div>
<div class="ttc" id="ardpq__text_8h_html_structrdpq__textparms__t"><div class="ttname"><a href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a></div><div class="ttdoc">Print formatting parameters.</div><div class="ttdef"><b>Definition:</b> rdpq_text.h:218</div></div>
</div><!-- fragment --><p>{.c}</p>
<p >There are four wrapping modes available:</p>
<ul>
<li><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3aca1a448e74f2566b9cf72dcbd454d537" title="Truncate the text (if any)">WRAP_NONE</a>: don't wrap lines, just truncate them (if necessary)</li>
<li><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a2bb7983d32861033d3481c17e31394a2" title="Truncate the text adding ellipsis (if any)">WRAP_ELLIPSES</a>: don't wrap lines, truncate them and add ellipsis ("..."). The exact sequence of glyphs to use as ellipsis can be specified while building the font via mkfont, with the option &ndash;ellipsis.</li>
<li><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a4ab7afd4fa5335435a7f8be5e386a673" title="Wrap at character boundaries.">WRAP_CHAR</a>: wrap lines at character boundaries.</li>
<li><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24" title="Wrap at word boundaries.">WRAP_WORD</a>: wrap lines at word boundaries.</li>
</ul>
<p >Wrapping modes require a maximum width to be specified in the parameters, otherwise the layout engine will not know where to wrap the text.</p>
<p >Print functions will also respect embedded newlines (<br  />
); in this case, specifying a width is not required.</p>
<h2><a class="anchor" id="autotoc_md42"></a>
Multi-style text</h2>
<p >It is possible to change font and/or style within a text using escape codes. Escape codes are sequences of the form:</p>
<p >$xx Select font "xx", where "xx" is the hexadecimal ID of the font For instance, $04 will switch to font 4. The current style is reset to 0. ^xx Switch to style "xx" of the current font, where "xx" is the hexadecimal ID of the style. For instance, ^02 will switch to style 2. A "style" is an font-dependent rendering style, which can be anything (a color, a faux-italic variant, etc.). The styles available for each font can be configured via <a class="el" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01" title="Create a style for a font.">rdpq_font_style</a>.</p>
<p >See also <a class="el" href="rdpq__text_8h.html#ab6f70f0e8d1c5c509837ea9e6c99c98c" title="Layout and render a text in a single call.">rdpq_text_printn</a> for more information.</p>
<p >Example 4: multi-color text</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a>(font, 0, (<a class="code hl_struct" href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a>){ </div>
<div class="line">    .color = .RGBA32(255, 255, 255, 255),</div>
<div class="line">});</div>
<div class="line"><a class="code hl_function" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a>(font, 1, (<a class="code hl_struct" href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a>){ </div>
<div class="line">    .color = .RGBA32(255, 0, 0, 255),</div>
<div class="line">});</div>
<div class="line"><a class="code hl_function" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a>(font, 2, (<a class="code hl_struct" href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a>){ </div>
<div class="line">    .color = .RGBA32(0, 255, 0, 255),</div>
<div class="line">});</div>
<div class="line"><a class="code hl_function" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a>(font, 3, (<a class="code hl_struct" href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a>){ </div>
<div class="line">    .color = .RGBA32(0, 0, 255, 255),</div>
<div class="line">});</div>
<div class="line"><a class="code hl_function" href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a>(font, 4, (<a class="code hl_struct" href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a>){ </div>
<div class="line">    .color = .RGBA32(255, 0, 255, 255),</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1">rdpq_text_print</a>(NULL, FONT_ARIAL, 20, 20, </div>
<div class="line">    <span class="stringliteral">&quot;Hello, ^01world^00! ^02This^00 is ^03a^00 ^04test^00.&quot;</span>);</div>
<div class="ttc" id="ardpq__font_8h_html_ac1ef6df2779da261ccaa10d1364d9f01"><div class="ttname"><a href="rdpq__font_8h.html#ac1ef6df2779da261ccaa10d1364d9f01">rdpq_font_style</a></div><div class="ttdeci">void rdpq_font_style(rdpq_font_t *font, uint8_t style_id, const rdpq_fontstyle_t *style)</div><div class="ttdoc">Create a style for a font.</div><div class="ttdef"><b>Definition:</b> rdpq_font.c:155</div></div>
<div class="ttc" id="ardpq__font_8h_html_structrdpq__fontstyle__t"><div class="ttname"><a href="rdpq__font_8h.html#structrdpq__fontstyle__t">rdpq_fontstyle_t</a></div><div class="ttdoc">A style for a font.</div><div class="ttdef"><b>Definition:</b> rdpq_font.h:65</div></div>
</div><!-- fragment --><p>{.c}</p>
<h2><a class="anchor" id="autotoc_md43"></a>
Other examples</h2>
<p >Example 3: draw the text with a transparent box behind it</p>
<div class="fragment"><div class="line"><span class="comment">// First, calculate the layout of the text</span></div>
<div class="line"><a class="code hl_struct" href="rdpq__paragraph_8h.html#structrdpq__paragraph__t">rdpq_paragraph_t</a> *layout = rdpq_text_layout(&amp;(text_parms_t) {</div>
<div class="line">   .width = 200,       <span class="comment">// maximum width of the paragraph</span></div>
<div class="line">   .height = 150,      <span class="comment">// maximum height of the paragraph</span></div>
<div class="line">   .wrap = <a class="code hl_enumvalue" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24">WRAP_WORD</a>   <span class="comment">// wrap at word boundaries</span></div>
<div class="line">}, FONT_ARIAL, text);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the box</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> margin = 10;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> x0 = 20;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> y0 = 20;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a>();</div>
<div class="line"><a class="code hl_function" href="rdpq_8c.html#a70a6556d7d088ca2b745fa145e3aeee3">rdpq_set_fill_color</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(120, 63, 32, 255));</div>
<div class="line"><a class="code hl_function" href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530">rdpq_set_fog_color</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(255, 255, 255, 128));</div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a>(RDPQ_BLEND_MULTIPLY_CONST);</div>
<div class="line"><a class="code hl_define" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a>(</div>
<div class="line">    x0 - margin - layout-&gt;<a class="code hl_variable" href="rdpq__paragraph_8h.html#aaef22589836988cf2b99c647fa747bc0">bbox</a>.x0,</div>
<div class="line">    y0 - margin - layout-&gt;<a class="code hl_variable" href="rdpq__paragraph_8h.html#aaef22589836988cf2b99c647fa747bc0">bbox</a>.<a class="code hl_variable" href="rdpq__paragraph_8h.html#a7c72eef5fa6f30fe744d4ef41e90d8ad">y0</a>,</div>
<div class="line">    x0 + margin + layout-&gt;<a class="code hl_variable" href="rdpq__paragraph_8h.html#aaef22589836988cf2b99c647fa747bc0">bbox</a>.x1,</div>
<div class="line">    y0 + margin + layout-&gt;<a class="code hl_variable" href="rdpq__paragraph_8h.html#aaef22589836988cf2b99c647fa747bc0">bbox</a>.y1</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Render the text</span></div>
<div class="line">rdpq_text_layout_render(layout, x0, y0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Free the layout</span></div>
<div class="line">rdpq_text_layout_free(layout);</div>
<div class="ttc" id="agroup__graphics_html_gae16bab5741f411ec4ef51b0295f6e705"><div class="ttname"><a href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a></div><div class="ttdeci">#define RGBA32(rx, gx, bx, ax)</div><div class="ttdoc">Create a color_t from the R,G,B,A components in the RGBA32 range (0-255).</div><div class="ttdef"><b>Definition:</b> graphics.h:47</div></div>
<div class="ttc" id="ardpq_8c_html_a70a6556d7d088ca2b745fa145e3aeee3"><div class="ttname"><a href="rdpq_8c.html#a70a6556d7d088ca2b745fa145e3aeee3">rdpq_set_fill_color</a></div><div class="ttdeci">void rdpq_set_fill_color(color_t color)</div><div class="ttdoc">Enqueue a SET_FILL_COLOR RDP command.</div><div class="ttdef"><b>Definition:</b> rdpq.h:866</div></div>
<div class="ttc" id="ardpq_8c_html_a7ffd0e373836f8500094bdcbe85ce530"><div class="ttname"><a href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530">rdpq_set_fog_color</a></div><div class="ttdeci">void rdpq_set_fog_color(color_t color)</div><div class="ttdoc">Set the RDP FOG blender register.</div><div class="ttdef"><b>Definition:</b> rdpq.h:918</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a64a153623e5985ce5c434bf52ba6efa6"><div class="ttname"><a href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a></div><div class="ttdeci">void rdpq_mode_blender(rdpq_blender_t blend)</div><div class="ttdoc">Configure the formula to use for blending.</div><div class="ttdef"><b>Definition:</b> rdpq_mode.h:591</div></div>
<div class="ttc" id="ardpq__mode_8c_html_ac3c29578703de424bea9548ad86bb4af"><div class="ttname"><a href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a></div><div class="ttdeci">void rdpq_set_mode_standard(void)</div><div class="ttdoc">Reset render mode to standard.</div><div class="ttdef"><b>Definition:</b> rdpq_mode.c:93</div></div>
<div class="ttc" id="ardpq__paragraph_8h_html_a7c72eef5fa6f30fe744d4ef41e90d8ad"><div class="ttname"><a href="rdpq__paragraph_8h.html#a7c72eef5fa6f30fe744d4ef41e90d8ad">rdpq_paragraph_t::y0</a></div><div class="ttdeci">float y0</div><div class="ttdoc">Alignment offset of the text.</div><div class="ttdef"><b>Definition:</b> rdpq_paragraph.h:63</div></div>
<div class="ttc" id="ardpq__paragraph_8h_html_aaef22589836988cf2b99c647fa747bc0"><div class="ttname"><a href="rdpq__paragraph_8h.html#aaef22589836988cf2b99c647fa747bc0">rdpq_paragraph_t::bbox</a></div><div class="ttdeci">struct rdpq_paragraph_t::@54 bbox</div><div class="ttdoc">Bounding box of the text, relative to the drawing position.</div></div>
<div class="ttc" id="ardpq__paragraph_8h_html_structrdpq__paragraph__t"><div class="ttname"><a href="rdpq__paragraph_8h.html#structrdpq__paragraph__t">rdpq_paragraph_t</a></div><div class="ttdoc">A paragraph of text, fully laid out.</div><div class="ttdef"><b>Definition:</b> rdpq_paragraph.h:53</div></div>
<div class="ttc" id="ardpq__rect_8h_html_a9c6405f89d2fe70046330964c21ba124"><div class="ttname"><a href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a></div><div class="ttdeci">#define rdpq_fill_rectangle(x0, y0, x1, y1)</div><div class="ttdoc">Draw a filled rectangle (RDP command: FILL_RECTANGLE)</div><div class="ttdef"><b>Definition:</b> rdpq_rect.h:235</div></div>
</div><!-- fragment --><p>{.c} </p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrdpq__textparms__t" id="structrdpq__textparms__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrdpq__textparms__t">&#9670;&nbsp;</a></span>rdpq_textparms_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rdpq_textparms_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Print formatting parameters. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="af291644c47bef640b6b9c1c56dd68cf4" name="af291644c47bef640b6b9c1c56dd68cf4"></a>int16_t</td>
<td class="fieldname">
width</td>
<td class="fielddoc">
Maximum horizontal width of the paragraph, in pixels (0 if unbounded) </td></tr>
<tr><td class="fieldtype">
<a id="a3ad55442d7743bece4b8bc85af917a46" name="a3ad55442d7743bece4b8bc85af917a46"></a>int16_t</td>
<td class="fieldname">
height</td>
<td class="fielddoc">
Maximum vertical height of the paragraph, in pixels (0 if unbounded) </td></tr>
<tr><td class="fieldtype">
<a id="a835571f1213ba4c40091e3d90050956d" name="a835571f1213ba4c40091e3d90050956d"></a><a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4">rdpq_align_t</a></td>
<td class="fieldname">
align</td>
<td class="fielddoc">
Horizontal alignment (0=left, 1=center, 2=right) </td></tr>
<tr><td class="fieldtype">
<a id="a6de659bfe38e8cdf4aee8833b0c2b4be" name="a6de659bfe38e8cdf4aee8833b0c2b4be"></a><a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823d">rdpq_valign_t</a></td>
<td class="fieldname">
valign</td>
<td class="fielddoc">
Vertical alignment (0=top, 1=center, 2=bottom) </td></tr>
<tr><td class="fieldtype">
<a id="adf8965a69b35f0f3c8a7f28d86dd5f6b" name="adf8965a69b35f0f3c8a7f28d86dd5f6b"></a>int16_t</td>
<td class="fieldname">
indent</td>
<td class="fielddoc">
Indentation of the first line, in pixels (only valid for left alignment) </td></tr>
<tr><td class="fieldtype">
<a id="aee74723106582cf0412758ec05a15da4" name="aee74723106582cf0412758ec05a15da4"></a>int16_t</td>
<td class="fieldname">
char_spacing</td>
<td class="fielddoc">
Extra spacing between chars (in addition to glyph width and kerning) </td></tr>
<tr><td class="fieldtype">
<a id="a11b1704aa3d38231890377280dcfedcd" name="a11b1704aa3d38231890377280dcfedcd"></a>int16_t</td>
<td class="fieldname">
line_spacing</td>
<td class="fielddoc">
Extra spacing between lines (in addition to font height) </td></tr>
<tr><td class="fieldtype">
<a id="af96898fd314f585221710b89e0bde795" name="af96898fd314f585221710b89e0bde795"></a><a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3">rdpq_textwrap_t</a></td>
<td class="fieldname">
wrap</td>
<td class="fielddoc">
Wrap mode. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a542bfca9ffeb221d87298435f2ab8fe3" name="a542bfca9ffeb221d87298435f2ab8fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542bfca9ffeb221d87298435f2ab8fe3">&#9670;&nbsp;</a></span>rdpq_textwrap_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3">rdpq_textwrap_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print formatting parameters: wrapping modes. </p>
<p >These modes take effect on each line that doesn't fit the width provided in <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t" title="Print formatting parameters.">rdpq_textparms_t</a>. If no width is specified, the text is never wrapped, not even on the border of the screen. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a542bfca9ffeb221d87298435f2ab8fe3aca1a448e74f2566b9cf72dcbd454d537" name="a542bfca9ffeb221d87298435f2ab8fe3aca1a448e74f2566b9cf72dcbd454d537"></a>WRAP_NONE&#160;</td><td class="fielddoc"><p >Truncate the text (if any) </p>
</td></tr>
<tr><td class="fieldname"><a id="a542bfca9ffeb221d87298435f2ab8fe3a2bb7983d32861033d3481c17e31394a2" name="a542bfca9ffeb221d87298435f2ab8fe3a2bb7983d32861033d3481c17e31394a2"></a>WRAP_ELLIPSES&#160;</td><td class="fielddoc"><p >Truncate the text adding ellipsis (if any) </p>
</td></tr>
<tr><td class="fieldname"><a id="a542bfca9ffeb221d87298435f2ab8fe3a4ab7afd4fa5335435a7f8be5e386a673" name="a542bfca9ffeb221d87298435f2ab8fe3a4ab7afd4fa5335435a7f8be5e386a673"></a>WRAP_CHAR&#160;</td><td class="fielddoc"><p >Wrap at character boundaries. </p>
</td></tr>
<tr><td class="fieldname"><a id="a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24" name="a542bfca9ffeb221d87298435f2ab8fe3a6d3446f805d529764962d7b653188f24"></a>WRAP_WORD&#160;</td><td class="fielddoc"><p >Wrap at word boundaries. </p>
</td></tr>
</table>

</div>
</div>
<a id="a138008d34475ee54f677961c5e518ba4" name="a138008d34475ee54f677961c5e518ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138008d34475ee54f677961c5e518ba4">&#9670;&nbsp;</a></span>rdpq_align_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdpq__text_8h.html#a138008d34475ee54f677961c5e518ba4">rdpq_align_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print formatting parameters: horizontal alignment. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a138008d34475ee54f677961c5e518ba4a6ec599857e15466988726932dd592305" name="a138008d34475ee54f677961c5e518ba4a6ec599857e15466988726932dd592305"></a>ALIGN_LEFT&#160;</td><td class="fielddoc"><p >Left alignment. </p>
</td></tr>
<tr><td class="fieldname"><a id="a138008d34475ee54f677961c5e518ba4a5624165187e56db612253e608a45b1c6" name="a138008d34475ee54f677961c5e518ba4a5624165187e56db612253e608a45b1c6"></a>ALIGN_CENTER&#160;</td><td class="fielddoc"><p >Center alignment. </p>
</td></tr>
<tr><td class="fieldname"><a id="a138008d34475ee54f677961c5e518ba4a9c81840e8cad46418b39a8b74a246354" name="a138008d34475ee54f677961c5e518ba4a9c81840e8cad46418b39a8b74a246354"></a>ALIGN_RIGHT&#160;</td><td class="fielddoc"><p >Right alignment. </p>
</td></tr>
</table>

</div>
</div>
<a id="a32ad573baebe22b65f840824f6db823d" name="a32ad573baebe22b65f840824f6db823d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ad573baebe22b65f840824f6db823d">&#9670;&nbsp;</a></span>rdpq_valign_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdpq__text_8h.html#a32ad573baebe22b65f840824f6db823d">rdpq_valign_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print formatting parameters: horizontal alignment. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a32ad573baebe22b65f840824f6db823da667caf0089bc36abdd821dfd4e55038c" name="a32ad573baebe22b65f840824f6db823da667caf0089bc36abdd821dfd4e55038c"></a>VALIGN_TOP&#160;</td><td class="fielddoc"><p >Top alignment. </p>
</td></tr>
<tr><td class="fieldname"><a id="a32ad573baebe22b65f840824f6db823dab146580c17eb513da1e4b604c5866098" name="a32ad573baebe22b65f840824f6db823dab146580c17eb513da1e4b604c5866098"></a>VALIGN_CENTER&#160;</td><td class="fielddoc"><p >Center alignment. </p>
</td></tr>
<tr><td class="fieldname"><a id="a32ad573baebe22b65f840824f6db823da7178e59d239d98435f6f473dced2c2d1" name="a32ad573baebe22b65f840824f6db823da7178e59d239d98435f6f473dced2c2d1"></a>VALIGN_BOTTOM&#160;</td><td class="fielddoc"><p >Vertical alignment. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a535a21a578c8ff0cf69fd08adcd9d523" name="a535a21a578c8ff0cf69fd08adcd9d523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a535a21a578c8ff0cf69fd08adcd9d523">&#9670;&nbsp;</a></span>rdpq_text_register_font()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_text_register_font </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>font_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrdpq__font__t.html">rdpq_font_t</a> *&#160;</td>
          <td class="paramname"><em>font</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new font into the text engine. </p>
<p >After this call, the font is available to be used by the text engine for layout and render. If <code>font_id</code> is already registered, this function will fail by asserting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">font_id</td><td>Font ID </td></tr>
    <tr><td class="paramname">font</td><td>Font to register</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Font ID 0 is reserved and cannot be used. </dd></dl>

</div>
</div>
<a id="a51544c04524a6e279821bd937ef47184" name="a51544c04524a6e279821bd937ef47184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51544c04524a6e279821bd937ef47184">&#9670;&nbsp;</a></span>rdpq_text_get_font()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrdpq__font__t.html">rdpq_font_t</a> * rdpq_text_get_font </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>font_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a registered font by its ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">font_id</td><td>Font ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const rdpq_font_t* Registered font or NULL </dd></dl>

</div>
</div>
<a id="ab6f70f0e8d1c5c509837ea9e6c99c98c" name="ab6f70f0e8d1c5c509837ea9e6c99c98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f70f0e8d1c5c509837ea9e6c99c98c">&#9670;&nbsp;</a></span>rdpq_text_printn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdpq_text_printn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *&#160;</td>
          <td class="paramname"><em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>font_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>utf8_text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Layout and render a text in a single call. </p>
<p >This function accepts UTF-8 encoded text. It will layout the text according to the parameters provided in <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t" title="Print formatting parameters.">rdpq_textparms_t</a>, and then render it at the specified coordinates.</p>
<p >The text is layout and rendered using the specified font by default (using its default style 0), but it can contain special escape codes to change the font or its style.</p>
<p >Escape codes are sequences of the form:</p>
<p >$xx Select font "xx", where "xx" is the hexadecimal ID of the font For instance, $04 will switch to font 4. The current style is reset to 0. ^xx Switch to style "xx" of the current font, where "xx" is the hexadecimal ID of the style. For instance, ^02 will switch to style 2. A "style" is an font-dependent rendering style, which can be anything (a color, a faux-italic variant, etc.). It is up the the font to define what styles are available.</p>
<p >To use a stray "$" or "^" character in the text, you can escape it by repeating them twice: "$$" or "^^".</p>
<p >The specified position refers to the "baseline" of the text. This is the line upon which the various glyphs are laid out (just like the line on a handwriting paper); each glyph will extend above or even below the baseline, depending on how the font has been designed.</p>
<p >The return value is the number of bytes printed, and can be useful to provide a pagination system (as the caller will be able to know where the next page would start). Notice that if you ask for horizontal line truncation (via <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3aca1a448e74f2566b9cf72dcbd454d537" title="Truncate the text (if any)">WRAP_NONE</a> or <a class="el" href="rdpq__text_8h.html#a542bfca9ffeb221d87298435f2ab8fe3a2bb7983d32861033d3481c17e31394a2" title="Truncate the text adding ellipsis (if any)">WRAP_ELLIPSES</a>), those lines will be counted as fully printed anyway (so that pagination works as expected).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parms</td><td>Layout parameters (see <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t" title="Print formatting parameters.">rdpq_textparms_t</a>) </td></tr>
    <tr><td class="paramname">font_id</td><td>Font ID to use to render the text (at least initially; it can modified via escape codes). The initial style will be style 0. </td></tr>
    <tr><td class="paramname">x0</td><td>X coordinate where to start rendering the text (baseline) </td></tr>
    <tr><td class="paramname">y0</td><td>Y coordinate where to start rendering the text (baseline) </td></tr>
    <tr><td class="paramname">utf8_text</td><td>Text to render, in UTF-8 encoding. Does not need to be NULL terminated. </td></tr>
    <tr><td class="paramname">nbytes</td><td>Number of bytes in the text to render </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of bytes printed</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__text_8h.html#acce50057cdd37500487afc553ebbd6d5" title="Layout and render a formatted text in a single call.">rdpq_text_printf</a> </dd>
<dd>
<a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1" title="Layout and render a text in a single call.">rdpq_text_print</a> </dd>
<dd>
<a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t" title="Print formatting parameters.">rdpq_textparms_t</a> </dd></dl>

</div>
</div>
<a id="acce50057cdd37500487afc553ebbd6d5" name="acce50057cdd37500487afc553ebbd6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce50057cdd37500487afc553ebbd6d5">&#9670;&nbsp;</a></span>rdpq_text_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdpq_text_printf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *&#160;</td>
          <td class="paramname"><em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>font_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>utf8_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Layout and render a formatted text in a single call. </p>
<p >This function is similar to <a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1" title="Layout and render a text in a single call.">rdpq_text_print</a>, but it accepts a printf-like format string. The format string is expected to be UTF-8 encoded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parms</td><td>Layout parameters </td></tr>
    <tr><td class="paramname">font_id</td><td>Font ID to use to render the text (at least initially; it can modified via escape codes). The initial style will be style 0. </td></tr>
    <tr><td class="paramname">x0</td><td>X coordinate where to start rendering the text </td></tr>
    <tr><td class="paramname">y0</td><td>Y coordinate where to start rendering the text </td></tr>
    <tr><td class="paramname">utf8_fmt</td><td>Format string, in UTF-8 encoding </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of bytes printed </dd></dl>

</div>
</div>
<a id="ad990a5d0df1439e120e933e64ece7eb1" name="ad990a5d0df1439e120e933e64ece7eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad990a5d0df1439e120e933e64ece7eb1">&#9670;&nbsp;</a></span>rdpq_text_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rdpq_text_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rdpq__text_8h.html#structrdpq__textparms__t">rdpq_textparms_t</a> *&#160;</td>
          <td class="paramname"><em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>font_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>utf8_text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Layout and render a text in a single call. </p>
<p >This function is similar to <a class="el" href="rdpq__text_8h.html#ad990a5d0df1439e120e933e64ece7eb1" title="Layout and render a text in a single call.">rdpq_text_print</a>, but it accepts a UTF-8 encoded, NULL-terminated string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parms</td><td>Layout parameters </td></tr>
    <tr><td class="paramname">font_id</td><td>Font ID to use to render the text (at least initially; it can modified via escape codes). The initial style will be style 0. </td></tr>
    <tr><td class="paramname">x0</td><td>X coordinate where to start rendering the text </td></tr>
    <tr><td class="paramname">y0</td><td>Y coordinate where to start rendering the text </td></tr>
    <tr><td class="paramname">utf8_text</td><td>Text to render, in UTF-8 encoding, NULL terminated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of bytes printed </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 8 2024 04:25:39 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
